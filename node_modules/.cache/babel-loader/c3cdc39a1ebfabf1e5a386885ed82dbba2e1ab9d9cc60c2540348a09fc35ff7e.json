{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nexport const boredReducerFetch = createAsyncThunk('src/boredReducerFetch', async function ([type, participants], {\n  rejectWithValue\n}) {\n  console.log(type, participants);\n  let response;\n  if (participants === NaN) {\n    response = await fetch(`https://www.boredapi.com/api/activity?type=${type}`);\n  } else if (type === '') {\n    response = await fetch(`https://www.boredapi.com/api/activity?participants=${participants}`);\n  } else {\n    response = await fetch(`https://www.boredapi.com/api/activity?type=${type}&?participants=${participants}`);\n  }\n  if (!response.ok) {\n    return rejectWithValue(\"Error 500!!!\");\n  }\n  const data = await response.json();\n  return data;\n});\nconst initialState = {\n  card: [],\n  loading: false,\n  error: false\n};\nconst boredReducer = createSlice({\n  name: 'bored',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(boredReducerFetch.pending, state => {\n      state.loading = true;\n      state.error = false;\n    }).addCase(boredReducerFetch.fulfilled, (state, action) => {\n      state.loading = false;\n      state.card = [{\n        ...action.payload\n      }];\n      state.error = false;\n    }).addCase(boredReducerFetch.rejected, (state, action) => {\n      state.card = [];\n      state.error = true;\n    });\n  }\n});\nexport default boredReducer.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","boredReducerFetch","type","participants","rejectWithValue","console","log","response","NaN","fetch","ok","data","json","initialState","card","loading","error","boredReducer","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["C:/Users/yurii/OneDrive/Pulpit/bored/src/components/BoredReducer.tsx"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { error } from \"console\";\r\n\r\ntype BoredType = {\r\n    activity: string;\r\n    type: string;\r\n    participants: number;\r\n    price: number;\r\n    key: string;\r\n    accessibility: number;\r\n}\r\n\r\nexport const boredReducerFetch = createAsyncThunk<BoredType, [string, number], {rejectValue: string}>(\r\n    'src/boredReducerFetch',\r\n    async function ([type, participants], {rejectWithValue}) {\r\n        console.log(type, participants)\r\n        let response\r\n        if(participants === NaN){\r\n            response = await fetch(`https://www.boredapi.com/api/activity?type=${type}`)\r\n        }else if(type === ''){\r\n            response = await fetch(`https://www.boredapi.com/api/activity?participants=${participants}`)\r\n        }else{\r\n            response = await fetch(`https://www.boredapi.com/api/activity?type=${type}&?participants=${participants}`)\r\n        }\r\n        if(!response.ok){\r\n            return rejectWithValue(\"Error 500!!!\")\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data\r\n    }\r\n)\r\n\r\n\r\ntype BoredCardType = {\r\n    card: BoredType[],\r\n    loading: boolean,\r\n    error: boolean\r\n}\r\n\r\n\r\nconst initialState:BoredCardType = {\r\n    card: [],\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst boredReducer = createSlice({\r\n    name: 'bored',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(boredReducerFetch.pending, (state) => {\r\n                state.loading = true\r\n                state.error = false\r\n            })\r\n            .addCase(boredReducerFetch.fulfilled, (state, action) => {\r\n                state.loading = false\r\n                state.card = [{...action.payload}]\r\n                state.error = false\r\n            })\r\n            .addCase(boredReducerFetch.rejected, (state, action) => {\r\n                state.card = []\r\n                state.error = true\r\n            })\r\n    }\r\n})\r\n\r\n\r\nexport default boredReducer.reducer\r\n"],"mappings":"AAAA,SAAwBA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAY/E,OAAO,MAAMC,iBAAiB,GAAGF,gBAAgB,CAC7C,uBAAuB,EACvB,gBAAgB,CAACG,IAAI,EAAEC,YAAY,CAAC,EAAE;EAACC;AAAe,CAAC,EAAE;EACrDC,OAAO,CAACC,GAAG,CAACJ,IAAI,EAAEC,YAAY,CAAC;EAC/B,IAAII,QAAQ;EACZ,IAAGJ,YAAY,KAAKK,GAAG,EAAC;IACpBD,QAAQ,GAAG,MAAME,KAAK,CAAE,8CAA6CP,IAAK,EAAC,CAAC;EAChF,CAAC,MAAK,IAAGA,IAAI,KAAK,EAAE,EAAC;IACjBK,QAAQ,GAAG,MAAME,KAAK,CAAE,sDAAqDN,YAAa,EAAC,CAAC;EAChG,CAAC,MAAI;IACDI,QAAQ,GAAG,MAAME,KAAK,CAAE,8CAA6CP,IAAK,kBAAiBC,YAAa,EAAC,CAAC;EAC9G;EACA,IAAG,CAACI,QAAQ,CAACG,EAAE,EAAC;IACZ,OAAON,eAAe,CAAC,cAAc,CAAC;EAC1C;EAEA,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACf,CACJ,CAAC;AAUD,MAAME,YAA0B,GAAG;EAC/BC,IAAI,EAAE,EAAE;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,YAAY,GAAGjB,WAAW,CAAC;EAC7BkB,IAAI,EAAE,OAAO;EACbL,YAAY;EACZM,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAACrB,iBAAiB,CAACsB,OAAO,EAAGC,KAAK,IAAK;MAC3CA,KAAK,CAACT,OAAO,GAAG,IAAI;MACpBS,KAAK,CAACR,KAAK,GAAG,KAAK;IACvB,CAAC,CAAC,CACDM,OAAO,CAACrB,iBAAiB,CAACwB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACrDF,KAAK,CAACT,OAAO,GAAG,KAAK;MACrBS,KAAK,CAACV,IAAI,GAAG,CAAC;QAAC,GAAGY,MAAM,CAACC;MAAO,CAAC,CAAC;MAClCH,KAAK,CAACR,KAAK,GAAG,KAAK;IACvB,CAAC,CAAC,CACDM,OAAO,CAACrB,iBAAiB,CAAC2B,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACpDF,KAAK,CAACV,IAAI,GAAG,EAAE;MACfU,KAAK,CAACR,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAGF,eAAeC,YAAY,CAACY,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}