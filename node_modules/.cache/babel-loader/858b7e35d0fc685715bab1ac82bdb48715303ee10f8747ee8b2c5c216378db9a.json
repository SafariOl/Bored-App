{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nexport const boredReducerFetch = createAsyncThunk('src/boredReducerFetch', async function (type, {\n  rejectWithValue\n}) {\n  let response;\n  if (type !== '') {\n    response = await fetch(`https://www.boredapi.com/api/activity?type=${type}&}`);\n  } else {\n    response = await fetch(`https://www.boredapi.com/api/activity`);\n  }\n  if (!response.ok) {\n    return rejectWithValue(\"Error 500!!!\");\n  }\n  const data = await response.json();\n  return data;\n});\nconst initialState = {\n  card: [],\n  loading: false,\n  error: false\n};\nconst boredReducer = createSlice({\n  name: 'bored',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(boredReducerFetch.pending, state => {\n      state.loading = true;\n      state.error = false;\n    }).addCase(boredReducerFetch.fulfilled, (state, action) => {\n      state.loading = false;\n      state.card = [{\n        ...action.payload\n      }];\n      state.error = false;\n    }).addCase(boredReducerFetch.rejected, (state, action) => {\n      state.card = [];\n      state.error = true;\n    });\n  }\n});\nexport default boredReducer.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","boredReducerFetch","type","rejectWithValue","response","fetch","ok","data","json","initialState","card","loading","error","boredReducer","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["C:/Users/yurii/OneDrive/Pulpit/bored/src/components/BoredReducer.tsx"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { error } from \"console\";\r\n\r\ntype BoredType = {\r\n    activity: string;\r\n    type: string;\r\n    participants: number;\r\n    price: number;\r\n    key: string;\r\n    accessibility: number;\r\n}\r\n\r\nexport const boredReducerFetch = createAsyncThunk<BoredType, string, {rejectValue: string}>(\r\n    'src/boredReducerFetch',\r\n    async function (type, {rejectWithValue}) {\r\n        let response\r\n        if(type !== ''){\r\n            response = await fetch(`https://www.boredapi.com/api/activity?type=${type}&}`)\r\n        }else{\r\n            response = await fetch(`https://www.boredapi.com/api/activity`)\r\n        }\r\n\r\n        if(!response.ok){\r\n            return rejectWithValue(\"Error 500!!!\")\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data\r\n    }\r\n)\r\n\r\n\r\ntype BoredCardType = {\r\n    card: BoredType[],\r\n    loading: boolean,\r\n    error: boolean\r\n}\r\n\r\n\r\nconst initialState:BoredCardType = {\r\n    card: [],\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst boredReducer = createSlice({\r\n    name: 'bored',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(boredReducerFetch.pending, (state) => {\r\n                state.loading = true\r\n                state.error = false\r\n            })\r\n            .addCase(boredReducerFetch.fulfilled, (state, action) => {\r\n                state.loading = false\r\n                state.card = [{...action.payload}]\r\n                state.error = false\r\n            })\r\n            .addCase(boredReducerFetch.rejected, (state, action) => {\r\n                state.card = []\r\n                state.error = true\r\n            })\r\n    }\r\n})\r\n\r\n\r\nexport default boredReducer.reducer\r\n"],"mappings":"AAAA,SAAwBA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAY/E,OAAO,MAAMC,iBAAiB,GAAGF,gBAAgB,CAC7C,uBAAuB,EACvB,gBAAgBG,IAAI,EAAE;EAACC;AAAe,CAAC,EAAE;EACrC,IAAIC,QAAQ;EACZ,IAAGF,IAAI,KAAK,EAAE,EAAC;IACXE,QAAQ,GAAG,MAAMC,KAAK,CAAE,8CAA6CH,IAAK,IAAG,CAAC;EAClF,CAAC,MAAI;IACDE,QAAQ,GAAG,MAAMC,KAAK,CAAE,uCAAsC,CAAC;EACnE;EAEA,IAAG,CAACD,QAAQ,CAACE,EAAE,EAAC;IACZ,OAAOH,eAAe,CAAC,cAAc,CAAC;EAC1C;EAEA,MAAMI,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACf,CACJ,CAAC;AAUD,MAAME,YAA0B,GAAG;EAC/BC,IAAI,EAAE,EAAE;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,YAAY,GAAGb,WAAW,CAAC;EAC7Bc,IAAI,EAAE,OAAO;EACbL,YAAY;EACZM,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAACjB,iBAAiB,CAACkB,OAAO,EAAGC,KAAK,IAAK;MAC3CA,KAAK,CAACT,OAAO,GAAG,IAAI;MACpBS,KAAK,CAACR,KAAK,GAAG,KAAK;IACvB,CAAC,CAAC,CACDM,OAAO,CAACjB,iBAAiB,CAACoB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACrDF,KAAK,CAACT,OAAO,GAAG,KAAK;MACrBS,KAAK,CAACV,IAAI,GAAG,CAAC;QAAC,GAAGY,MAAM,CAACC;MAAO,CAAC,CAAC;MAClCH,KAAK,CAACR,KAAK,GAAG,KAAK;IACvB,CAAC,CAAC,CACDM,OAAO,CAACjB,iBAAiB,CAACuB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MACpDF,KAAK,CAACV,IAAI,GAAG,EAAE;MACfU,KAAK,CAACR,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAGF,eAAeC,YAAY,CAACY,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}